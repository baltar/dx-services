{"swagger":"2.0","info":{"description":"Welcome to DutchX API docs (read-only).\n\nOn this interface you may query various information about tokens, markets,\nauction states, accounts of the **DutchX** protocol. All endpoints are returned\nto you by reading the states directly off the Ethereum blockchain.\n\nWe provide you with the TRY button, such that the different endpoints can\nbe tested from the documentation web itself.\n\nFor all available information, please check the [Documentation](https://dutchx.readthedocs.io/en/latest/)","version":"1.0","title":"DutchX API","termsOfService":"https://dutch.d.exchange/terms/","contact":{"name":"DutchX Gitter channel","url":"https://gitter.im/gnosis/DutchX"},"license":{"name":"MIT License","url":"https://github.com/gnosis/dx-services/blob/master/LICENSE.md"}},"basePath":"/api/v1","tags":[{"name":"markets","description":"Get market info"},{"name":"prices","description":"Get prices info"},{"name":"auctions","description":"Get general auctions info"},{"name":"accounts","description":"Get account data","externalDocs":{"description":"Find out more about our exchange","url":"https://dutch.d.exchange"}}],"paths":{"/tokens":{"get":{"tags":["markets"],"summary":"Returns all available tokens","description":"Returns an array of all tokens that are listed (and hence can be traded) on the DutchX. All are at least listed in an auction with WETH; check either “returns all available markets” or “returns if a given token pair has been added to the DutchX” below, to see if there are additional token-pairings available.","operationId":"getTokens","produces":["application/json"],"responses":{"200":{"description":"successful operation","schema":{"required":["data","pagination"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/TokenDetails"}},"pagination":{"$ref":"#/definitions/PaginationObject"}}}}}}},"/tokens/whitelisted":{"get":{"tags":["markets"],"summary":"Returns whitelisted tokens","description":"Returns all tokens that have been whitelisted on the DutchX protocol. A whitelisted token has the potential to create Magnolia tokens (used for reduction of liquidity contribution) if traded in a whitelisted pair. Tokens can be available for trading on the DutchX protocol, albeit not whitelisted (and hence trades do not generate Magnolia); on the flip side, tokens could be whitelisted, however not listed/traded on the DutchX protocol. Check “returns all available tokens” for a list of those that are tradable.","operationId":"getWhitelistedTokens","produces":["application/json"],"responses":{"200":{"description":"successful operation","schema":{"required":["data","pagination"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/TokenDetails"}},"pagination":{"$ref":"#/definitions/PaginationObject"}}}}}}},"/markets":{"get":{"tags":["markets"],"summary":"Returns all available markets","description":"Returns an array of all the available markets (auctions) in the DutchX. Note that each available token pairing always runs the two opposite auctions simultaneously.","operationId":"getMarkets","produces":["application/json"],"responses":{"200":{"description":"successful operation","schema":{"required":["data","pagination"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/definitions/TokenPair"}},"pagination":{"$ref":"#/definitions/PaginationObject"}}}}}}},"/markets/{tokenPair}/state":{"get":{"tags":["markets"],"summary":"Returns market state","description":"Returns the current state of the requested market: running, This can be any of:\n- `RUNNING` - Auction is currently ongoing.\n- `WAITING_FOR_FUNDING` - Sell volume has not reached the threshold to start\n- `WAITING_FOR_AUCTION_TO_START` - Sell volume threshold was reached and auction should start in next 10 minutes\n- `ONE_AUCTION_HAS_CLOSED` - Auction is running and one of the auction sides is already closed\n- `PENDING_CLOSE_THEORETICAL` - Auction reached a price wich fits with the sell and buy volume but needs to be closed","operationId":"getMarketDetails","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string","enum":["RUNNING","WAITING_FOR_FUNDING"]}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/prices/running":{"get":{"tags":["prices"],"summary":"Returns current market price","description":"**Important note: This is not the price oracle**. This endpoint this returns the current market price of an auction. If the auction is currently running, it will return a price that is constantly dropping until the auction ends. If no auction is running, it will return `null`","operationId":"getCurrentPrice","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MarketPrice"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/prices/closing":{"get":{"tags":["prices"],"summary":"Returns a list of closing prices","description":"Returns a list of the latest closing prices for a given market. You may select how many past auctions you would like to view. You can find the auction index as well as the price increments (in %-change to the last closing price). The price A-B is read 1A gave [value]B.","operationId":"getLastClosingPrices","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"count","in":"query","type":"integer","format":"int32","minimum":1,"maximum":50,"default":10,"required":false,"description":"The number of markets to query from last"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"type":"object","required":["auctionIndex","price"],"properties":{"auctionIndex":{"type":"integer","format":"int32"},"priceIcrement":{"type":"number"},"price":{"$ref":"#/definitions/MarketPrice"}}}}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/prices/closing/{auctionIndex}":{"get":{"tags":["prices"],"summary":"Returns closing price for selected auction","description":"Returns a specific closing price for a certain `auctionIndex`. The price A-B is read 1A gave [value]B. To see which index the auction is currently at, check “Returns the current auction index” below.","operationId":"getClosingPrice","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"auctionIndex","in":"path","description":"Auction index","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MarketPrice"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{token}-WETH/prices/safe-median":{"get":{"tags":["prices"],"summary":"Returns a safe median price","description":"Returns a median of the selected token (always with WETH) of the past 9 auctions that have run. Only returns this price if all past 9 auctions have run consecutively (i.e. if enough liquidity was given). If no safe price is available it returns `null`","operationId":"getOraclePrice","produces":["application/json"],"parameters":[{"name":"token","in":"path","description":"A token address string for selecting the desired token","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MarketPrice"}},"404":{"description":"The token provided is not found"}}}},"/markets/{token}-WETH/prices/custom-median":{"get":{"tags":["prices"],"summary":"Returns a median oracle price for the selected past auctions","description":"Returns a median of the selected token (always with ETH) of the past N auctions that have run. You can limit the maximum time between auctions, the moment of time (using Unix timestamp) when you want to check the price and if you require this token to be whitelisted. If no price is available using the selected params it returns `null`.","operationId":"getOraclePriceCustom","produces":["application/json"],"parameters":[{"name":"token","in":"path","description":"A token address string for selecting the desired token","required":true,"type":"string"},{"name":"time","in":"query","description":"An Unix timestamp for a price at any point in time","required":false,"type":"integer","format":"int32","minimum":0,"default":0},{"name":"requireWhitelisted","in":"query","description":"Require the token to be whitelisted on the DutchX","required":false,"type":"boolean","default":true},{"name":"maximumTimePeriod","in":"query","description":"Maximum time period between clearing time of last auction and `time`","required":false,"type":"integer","format":"int32","default":388800},{"name":"numberOfAuctions","in":"query","description":"Require the token to be whitelisted on the DutchX","required":false,"type":"integer","format":"int32","minimum":0,"maximum":100,"default":9}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MarketPrice"}},"404":{"description":"The token provided is not found"}}}},"/markets/{token}-WETH/prices/simple-median/{auctionIndex}":{"get":{"tags":["prices"],"summary":"Returns a median oracle price for the selected past auctions","description":"Returns a median of the selected token (always with ETH) of the past N auctions that have run. This is a simple median using only the number of auctions that you specify and starting in the selected auction index. If no price is available using the selected params it returns `null`.","operationId":"getOraclePriceSimpleMedian","produces":["application/json"],"parameters":[{"name":"token","in":"path","description":"A token address string for selecting the desired token","required":true,"type":"string"},{"name":"auctionIndex","in":"path","description":"The auction index to start calculating the median."},{"name":"numberOfAuctions","in":"query","type":"integer","format":"int32","minimum":1,"maximum":100,"default":9,"required":false,"description":"Number of auctions to consider. Contract is safe only for odd numbers"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MarketPrice"}},"404":{"description":"The token provided is not found"}}}},"/markets/{tokenPair}/current-index":{"get":{"tags":["markets"],"summary":"Returns the current auction index","description":"Returns the current auction index. Upon listing and trading, the token pair started at auction index 1. All subsequent auctions are numbered. There is always only at most one auction running at the same time per token pair.","operationId":"getAuctionIndex","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"integer","format":"int64"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/auction-start":{"get":{"tags":["markets"],"summary":"Returns the current auction start","description":"Returns an auction start timestamp","operationId":"getAuctionStart","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string","format":"date-time"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/is-valid-token-pair":{"get":{"tags":["markets"],"summary":"Returns if a given token pair has been added to the DutchX","description":"Returns true only if the token pair has been added","operationId":"isValidTokenPair","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"boolean"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/extra-tokens/{auctionIndex}":{"get":{"tags":["markets"],"summary":"Returns extra tokens for next auction","description":"Returns the number of extra tokens for next auction. Note, that you have to include the auction index. For this, check “Returns the current auction index” and add another index.","operationId":"getExtraTokens","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"auctionIndex","in":"path","description":"Auction index","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/sell-volume":{"get":{"tags":["markets"],"summary":"Returns sell volume for current auction","description":"Returns sell volume for current auction. Note that this is only returned if the auction is currently running. See “returns sell volume for next auction” otherwise.","operationId":"getSellVolumeForCurrentAuction","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/sell-volume-next":{"get":{"tags":["markets"],"summary":"Returns sell volume for next auction","description":"Returns sell volume for next auction","operationId":"getSellVolumeNext","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/markets/{tokenPair}/buy-volume":{"get":{"tags":["markets"],"summary":"Returns buy volume for current auction","description":"Returns buy volume for current auction","operationId":"getBuyVolume","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/auctions/cleared":{"get":{"tags":["auctions"],"summary":"Returns auctions summary in a date range","description":"<span class=\"markdown\">\nReturns a list of cleared auctions with details, as closing price or buy and sell volume, in the selected date range.\n\nAt least <b>fromDate</b> and <b>toDate</b> parameters or <b>period</b> parameter is <b>required</b> in order to return any results.\nIt can also be filtered by token pair with the param <i>tokenPair</i>.\n</span>","operationId":"getClearedAcutionsInfo","produces":["application/json"],"parameters":[{"name":"fromDate","in":"query","description":"A date string using ISO 8601 date format. Required when using\n*toDate*.\n\nex: *'2018-07-01', '01-07-2018'*","type":"string"},{"name":"toDate","in":"query","description":"A date string using ISO 8601 date format. Required when using\n*fromDate*.\n\nex: *'2018-07-02', '02-07-2018'*","type":"string"},{"name":"period","in":"query","description":"A relative time period. Valid values are: *today, yesterday, week,\nlast-week, current-week*","schema":{"type":"string","enum":["today","yesterday","week","last-week","current-week"],"example":"today"}},{"name":"tokenPair","in":"query","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AuctionSummary"}}},"412":{"description":"<span class=\"markdown\">\n  DATE_RANGE_INVALID:\n  <ul>\n    <li>Missing params 'fromDate' and 'toDate' or 'period'.</li>\n    <li>Unknown value for period. Valid values are: today, yesterday, week, last-week, current-week</li>\n  </ul>\n  DATE_FORMAT:\n  <ul><li>Invalid date format. The required format is a valid ISO 8601 date format</li></ul>\n</span>"}}}},"/accounts/{accountAddress}/current-liquidity-contribution-ratio":{"get":{"tags":["accounts"],"summary":"Returns current liquidity contribution ratio","description":"Returns current liquidity contribution ratio for user account","operationId":"getFeeRatio","produces":["application/json"],"parameters":[{"name":"accountAddress","in":"path","description":"An account address","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}}}}},"/accounts/{accountAddress}/balances/{tokenPair}/seller":{"get":{"tags":["accounts"],"summary":"Returns account seller balance for current auction","description":"Returns account seller balance for the current auction","operationId":"getSellerBalanceForCurrentAuction","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"accountAddress","in":"path","description":"An ERC20 account address","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/accounts/{accountAddress}/balances/{tokenPair}/auctions/{auctionIndex}/seller":{"get":{"tags":["accounts"],"summary":"Returns account seller balance for the selected auction","description":"Returns account seller balance for the selected auction","operationId":"getSellerBalanceForAuction","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"accountAddress","in":"path","description":"An ERC20 account address","required":true,"type":"string"},{"name":"auctionIndex","in":"path","description":"Auction index","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/accounts/{accountAddress}/balances/{tokenPair}/buyer":{"get":{"tags":["accounts"],"summary":"Returns account buyer balance for current auction","description":"Returns account buyer balance for the current auction","operationId":"getBuyerBalanceForCurrentAuction","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"accountAddress","in":"path","description":"An ERC20 account address","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/accounts/{accountAddress}/balances/{tokenPair}/auctions/{auctionIndex}/buyer":{"get":{"tags":["accounts"],"summary":"Returns account buyer balance for the selected auction","description":"Returns account buyer balance for the selected auction","operationId":"getBuyerBalance","produces":["application/json"],"parameters":[{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"},{"name":"accountAddress","in":"path","description":"An ERC20 account address","required":true,"type":"string"},{"name":"auctionIndex","in":"path","description":"Auction index","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"number"}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/accounts/{accountAddress}/balances/{tokenPair}/claimable-tokens":{"get":{"tags":["accounts"],"summary":"Returns pending claimable tokens as buyer or seller","description":"Returns pending claimable tokens as buyer or seller","operationId":"getClaimableTokens","produces":["application/json"],"parameters":[{"name":"accountAddress","in":"path","description":"Account address","required":true,"type":"string"},{"name":"tokenPair","in":"path","description":"A token pair string for selecting the desired market {tokenA}-{tokenB}","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"object","required":["sellerClaims","buyerClaims"],"properties":{"sellerClaims":{"type":"array","items":{"$ref":"#/definitions/ClaimObject"}},"buyerClaims":{"type":"array","items":{"$ref":"#/definitions/ClaimObject"}}}}},"404":{"description":"There is an unknown token in the token pair"},"412":{"description":"Invalid token format. Token pair format is not compilant with {tokenA}-{tokenB}. Ex. weth-rdn"}}}},"/accounts/{accountAddress}/tokens/{tokenSymbol}":{"get":{"tags":["accounts"],"summary":"Returns account balance for a token","description":"Returns the account balance for a token","operationId":"getTokenBalanceOf","produces":["application/json"],"parameters":[{"name":"accountAddress","in":"path","description":"Account address","required":true,"type":"string"},{"name":"tokenSymbol","in":"path","description":"Symbol of an approved token","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"object"}},"404":{"description":"Unknown token symbol"}}}}},"definitions":{"TokenDetails":{"type":"object","properties":{"symbol":{"type":"string"},"name":{"type":"string"},"address":{"type":"string"},"decimals":{"type":"number"}},"required":["address"]},"TokenPair":{"type":"object","required":["tokenA","tokenB"],"properties":{"tokenA":{"$ref":"#/definitions/TokenDetails"},"tokenB":{"$ref":"#/definitions/TokenDetails"}}},"MarketPrice":{"type":"number","format":"double"},"PaginationObject":{"type":"object","properties":{"endingBefore":{"type":"string"},"startingAfter":{"type":"string"},"limit":{"type":"number"},"order":{"type":"array","items":{"type":"object","properties":{"param":{"type":"string"},"direction":{"type":"string"}}}},"previousUri":{"type":"string"},"nextUri":{"type":"string"}}},"ClaimObject":{"type":"object","required":["auctionIndex","amount"],"properties":{"auctionIndex":{"type":"integer","format":"int32"},"amount":{"type":"number","format":"double"}}},"AuctionSummary":{"type":"object","required":["auctionIndex","sellToken","buyToken","sellTokenAddress","buyTokenAddress","auctionStart","auctionEnd","sellVolume","buyVolume","closingPrice","priceIncrement"],"properties":{"auctionIndex":{"type":"integer","format":"int32"},"sellToken":{"type":"string"},"buyToken":{"type":"string"},"sellTokenAddress":{"type":"string"},"buyTokenAddress":{"type":"string"},"auctionStart":{"type":"string","format":"date-time"},"auctionEnd":{"type":"string","format":"date-time"},"sellVolume":{"type":"number"},"buyVolume":{"type":"number"},"closingPrice":{"type":"number","format":"double"},"priceIncrement":{"type":"number"}}}},"externalDocs":{"description":"Find out more about the DutchX in our blog","url":"https://blog.gnosis.pm/tagged/dutchx"}}
